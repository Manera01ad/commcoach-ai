{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hp/.gemini/antigravity/scratch/commcoach-ai/qa-dashboard/src/hooks/useSaasMetrics.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport interface SaasMetrics {\r\n    mrr: number;\r\n    mrrGrowth: number;\r\n    activeUsers: number;\r\n    totalUsers: number;\r\n    tokenSpend: number;\r\n    revenuePerToken: number;\r\n    openTickets: number;\r\n    bannedUsers: number;\r\n    overallHealth: number;\r\n    trends: Array<{\r\n        date: string;\r\n        infrastructure: number;\r\n        therapy: number;\r\n        journey: number;\r\n        performance: number;\r\n        security: number;\r\n    }>;\r\n    alerts: Array<{\r\n        id: string;\r\n        message: string;\r\n        type: 'success' | 'warning' | 'critical';\r\n        timestamp: string;\r\n    }>;\r\n    summaries: Array<{\r\n        type: string;\r\n        count: number;\r\n        passRate: number;\r\n        lastRun: string;\r\n    }>;\r\n    recommendations: Array<{\r\n        priority: 'High' | 'Medium' | 'Low';\r\n        action: string;\r\n        rationale: string;\r\n    }>;\r\n}\r\n\r\nexport function useSaasMetrics(refreshInterval: number = 30000) {\r\n    const [data, setData] = useState<SaasMetrics | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isRefreshing, setIsRefreshing] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [lastUpdated, setLastUpdated] = useState<Date>(new Date());\r\n\r\n    const fetchMetrics = useCallback(async (isInitial: boolean = false) => {\r\n        try {\r\n            if (isInitial) {\r\n                setIsLoading(true);\r\n            } else {\r\n                setIsRefreshing(true);\r\n            }\r\n\r\n            setError(null);\r\n\r\n            const response = await fetch('/api/saas-metrics', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                cache: 'no-store'\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const result = await response.json();\r\n\r\n            if (result.success && result.data) {\r\n                setData(result.data);\r\n                setLastUpdated(new Date());\r\n            } else {\r\n                throw new Error(result.error || 'Failed to fetch SaaS metrics');\r\n            }\r\n        } catch (err: any) {\r\n            console.error('Error fetching SaaS metrics:', err);\r\n            setError(err.message || 'Failed to load SaaS metrics');\r\n\r\n            // Set fallback mock data if fetch fails\r\n            if (!data) {\r\n                setData({\r\n                    mrr: 0,\r\n                    mrrGrowth: 0,\r\n                    activeUsers: 0,\r\n                    totalUsers: 0,\r\n                    tokenSpend: 0,\r\n                    revenuePerToken: 0,\r\n                    openTickets: 0,\r\n                    bannedUsers: 0,\r\n                    overallHealth: 0,\r\n                    trends: [],\r\n                    alerts: [],\r\n                    summaries: [],\r\n                    recommendations: []\r\n                });\r\n            }\r\n        } finally {\r\n            setIsLoading(false);\r\n            setIsRefreshing(false);\r\n        }\r\n    }, [data]);\r\n\r\n    useEffect(() => {\r\n        fetchMetrics(true);\r\n\r\n        // Set up auto-refresh\r\n        const interval = setInterval(() => {\r\n            fetchMetrics(false);\r\n        }, refreshInterval);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [fetchMetrics, refreshInterval]);\r\n\r\n    return {\r\n        data,\r\n        isLoading,\r\n        isRefreshing,\r\n        error,\r\n        lastUpdated,\r\n        refresh: () => fetchMetrics(false)\r\n    };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAuCO,SAAS,eAAe,kBAA0B,KAAK;IAC1D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAqB;IACrD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAO,IAAI;IAEzD,MAAM,eAAe,IAAA,oNAAW,EAAC,OAAO,YAAqB,KAAK;QAC9D,IAAI;YACA,IAAI,WAAW;gBACX,aAAa;YACjB,OAAO;gBACH,gBAAgB;YACpB;YAEA,SAAS;YAET,MAAM,WAAW,MAAM,MAAM,qBAAqB;gBAC9C,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,OAAO;YACX;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC5D;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,OAAO,OAAO,IAAI,OAAO,IAAI,EAAE;gBAC/B,QAAQ,OAAO,IAAI;gBACnB,eAAe,IAAI;YACvB,OAAO;gBACH,MAAM,IAAI,MAAM,OAAO,KAAK,IAAI;YACpC;QACJ,EAAE,OAAO,KAAU;YACf,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,SAAS,IAAI,OAAO,IAAI;YAExB,wCAAwC;YACxC,IAAI,CAAC,MAAM;gBACP,QAAQ;oBACJ,KAAK;oBACL,WAAW;oBACX,aAAa;oBACb,YAAY;oBACZ,YAAY;oBACZ,iBAAiB;oBACjB,aAAa;oBACb,aAAa;oBACb,eAAe;oBACf,QAAQ,EAAE;oBACV,QAAQ,EAAE;oBACV,WAAW,EAAE;oBACb,iBAAiB,EAAE;gBACvB;YACJ;QACJ,SAAU;YACN,aAAa;YACb,gBAAgB;QACpB;IACJ,GAAG;QAAC;KAAK;IAET,IAAA,kNAAS,EAAC;QACN,aAAa;QAEb,sBAAsB;QACtB,MAAM,WAAW,YAAY;YACzB,aAAa;QACjB,GAAG;QAEH,OAAO,IAAM,cAAc;IAC/B,GAAG;QAAC;QAAc;KAAgB;IAElC,OAAO;QACH;QACA;QACA;QACA;QACA;QACA,SAAS,IAAM,aAAa;IAChC;AACJ"}},
    {"offset": {"line": 99, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hp/.gemini/antigravity/scratch/commcoach-ai/qa-dashboard/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs));\r\n}\r\n\r\nexport function formatDateTime(date: string | Date) {\r\n    return new Intl.DateTimeFormat(\"en-US\", {\r\n        month: \"short\",\r\n        day: \"numeric\",\r\n        hour: \"2-digit\",\r\n        minute: \"2-digit\",\r\n        second: \"2-digit\",\r\n    }).format(new Date(date));\r\n}\r\n\r\nexport function getScoreColor(score: number | null) {\r\n    if (score === null) return \"bg-gray-100 text-gray-500\";\r\n    if (score >= 90) return \"bg-emerald-100 text-emerald-700 border-emerald-200\";\r\n    if (score >= 80) return \"bg-amber-100 text-amber-700 border-amber-200\";\r\n    return \"bg-rose-100 text-rose-700 border-rose-200\";\r\n}\r\n\r\nexport function getStatusText(score: number | null) {\r\n    if (score === null) return \"Pending\";\r\n    if (score >= 90) return \"Excellent\";\r\n    if (score >= 80) return \"Good\";\r\n    return \"Attention\";\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACxB;AAEO,SAAS,eAAe,IAAmB;IAC9C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACpC,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;QACR,QAAQ;IACZ,GAAG,MAAM,CAAC,IAAI,KAAK;AACvB;AAEO,SAAS,cAAc,KAAoB;IAC9C,IAAI,UAAU,MAAM,OAAO;IAC3B,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,OAAO;AACX;AAEO,SAAS,cAAc,KAAoB;IAC9C,IAAI,UAAU,MAAM,OAAO;IAC3B,IAAI,SAAS,IAAI,OAAO;IACxB,IAAI,SAAS,IAAI,OAAO;IACxB,OAAO;AACX"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hp/.gemini/antigravity/scratch/commcoach-ai/qa-dashboard/src/components/Dashboard/HealthCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { LucideIcon } from \"lucide-react\";\r\nimport { cn, getScoreColor } from \"@/lib/utils\";\r\n\r\ninterface HealthCardProps {\r\n    title: string;\r\n    icon: LucideIcon;\r\n    score: number | null;\r\n    status: string;\r\n    metric: string;\r\n    isLoading?: boolean;\r\n}\r\n\r\nexport function HealthCard({ title, icon: Icon, score, status, metric, isLoading }: HealthCardProps) {\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm animate-pulse\">\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                    <div className=\"w-10 h-10 bg-gray-200 rounded-lg\"></div>\r\n                    <div className=\"w-16 h-8 bg-gray-200 rounded-full\"></div>\r\n                </div>\r\n                <div className=\"h-4 w-24 bg-gray-200 rounded mb-2\"></div>\r\n                <div className=\"h-8 w-20 bg-gray-200 rounded mb-4\"></div>\r\n                <div className=\"h-3 w-32 bg-gray-200 rounded\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n                <div className=\"p-2 bg-blue-50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-colors\">\r\n                    <Icon className=\"w-6 h-6\" />\r\n                </div>\r\n                <div className={cn(\"px-3 py-1 rounded-full text-xs font-bold uppercase border\", getScoreColor(score))}>\r\n                    {status}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-1\">\r\n                <h3 className=\"text-sm font-semibold text-gray-500 uppercase tracking-wider\">{title}</h3>\r\n                <div className=\"flex items-baseline gap-2\">\r\n                    <span className=\"text-4xl font-black text-gray-900\">\r\n                        {score !== null ? score.toFixed(0) : \"N/A\"}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-400 font-bold\">%</span>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"mt-4 pt-4 border-t border-gray-50 flex items-center justify-between\">\r\n                <span className=\"text-sm text-gray-600 font-medium truncate\">{metric}</span>\r\n            </div>\r\n\r\n            {/* Decorative background score indicator */}\r\n            <div\r\n                className={cn(\r\n                    \"absolute -bottom-6 -right-6 text-9xl font-black opacity-[0.03] select-none\",\r\n                    score !== null && score < 80 ? \"text-rose-600\" : \"text-gray-900\"\r\n                )}\r\n            >\r\n                {score !== null ? Math.round(score) : \"\"}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAcO,SAAS,WAAW,EAAE,KAAK,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAmB;IAC/F,IAAI,WAAW;QACX,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAI,WAAU;;;;;;;;;;;;8BAEnB,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;;;;;;;;;;;;IAG3B;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAK,WAAU;;;;;;;;;;;kCAEpB,8OAAC;wBAAI,WAAW,IAAA,yHAAE,EAAC,6DAA6D,IAAA,oIAAa,EAAC;kCACzF;;;;;;;;;;;;0BAIT,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAgE;;;;;;kCAC9E,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CACX,UAAU,OAAO,MAAM,OAAO,CAAC,KAAK;;;;;;0CAEzC,8OAAC;gCAAK,WAAU;0CAAkC;;;;;;;;;;;;;;;;;;0BAI1D,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAK,WAAU;8BAA8C;;;;;;;;;;;0BAIlE,8OAAC;gBACG,WAAW,IAAA,yHAAE,EACT,8EACA,UAAU,QAAQ,QAAQ,KAAK,kBAAkB;0BAGpD,UAAU,OAAO,KAAK,KAAK,CAAC,SAAS;;;;;;;;;;;;AAItD"}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hp/.gemini/antigravity/scratch/commcoach-ai/qa-dashboard/src/components/Dashboard/TrendsChart.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ResponsiveContainer, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend } from \"recharts\";\r\n\r\ninterface TrendsData {\r\n    date: string;\r\n    infrastructure: number;\r\n    therapy: number;\r\n    journey: number;\r\n    performance: number;\r\n    security: number;\r\n}\r\n\r\ninterface TrendsChartProps {\r\n    data: TrendsData[];\r\n    isLoading?: boolean;\r\n}\r\n\r\nexport function TrendsChart({ data, isLoading }: TrendsChartProps) {\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm mb-8 h-[450px] animate-pulse\">\r\n                <div className=\"h-6 w-48 bg-gray-200 rounded mb-8\"></div>\r\n                <div className=\"w-full h-[350px] bg-gray-100 rounded\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm mb-8 animate-in fade-in zoom-in-95 duration-500\">\r\n            <h2 className=\"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2\">\r\n                ðŸ“ˆ 7-Day Trends\r\n            </h2>\r\n\r\n            <div className=\"h-[400px] w-full\">\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                    <LineChart data={data} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#f1f5f9\" />\r\n                        <XAxis\r\n                            dataKey=\"date\"\r\n                            axisLine={false}\r\n                            tickLine={false}\r\n                            tick={{ fill: '#64748b', fontSize: 12 }}\r\n                            dy={10}\r\n                        />\r\n                        <YAxis\r\n                            domain={[0, 100]}\r\n                            axisLine={false}\r\n                            tickLine={false}\r\n                            tick={{ fill: '#64748b', fontSize: 12 }}\r\n                        />\r\n                        <Tooltip\r\n                            contentStyle={{\r\n                                backgroundColor: '#ffffff',\r\n                                border: '1px solid #e2e8f0',\r\n                                borderRadius: '12px',\r\n                                boxShadow: '0 4px 6px -1px rgb(0 0 0 / 0.1)'\r\n                            }}\r\n                            itemStyle={{ fontSize: '12px', fontWeight: 'bold' }}\r\n                        />\r\n                        <Legend verticalAlign=\"top\" height={36} iconType=\"circle\" />\r\n\r\n                        <Line\r\n                            name=\"Infrastructure\"\r\n                            type=\"monotone\"\r\n                            dataKey=\"infrastructure\"\r\n                            stroke=\"#10b981\"\r\n                            strokeWidth={3}\r\n                            dot={{ r: 4, strokeWidth: 2, fill: '#fff' }}\r\n                            activeDot={{ r: 6, strokeWidth: 0 }}\r\n                        />\r\n                        <Line\r\n                            name=\"Therapy\"\r\n                            type=\"monotone\"\r\n                            dataKey=\"therapy\"\r\n                            stroke=\"#3b82f6\"\r\n                            strokeWidth={3}\r\n                            dot={{ r: 4, strokeWidth: 2, fill: '#fff' }}\r\n                            activeDot={{ r: 6, strokeWidth: 0 }}\r\n                        />\r\n                        <Line\r\n                            name=\"Journeys\"\r\n                            type=\"monotone\"\r\n                            dataKey=\"journey\"\r\n                            stroke=\"#f59e0b\"\r\n                            strokeWidth={3}\r\n                            dot={{ r: 4, strokeWidth: 2, fill: '#fff' }}\r\n                            activeDot={{ r: 6, strokeWidth: 0 }}\r\n                        />\r\n                        <Line\r\n                            name=\"Performance\"\r\n                            type=\"monotone\"\r\n                            dataKey=\"performance\"\r\n                            stroke=\"#8b5cf6\"\r\n                            strokeWidth={3}\r\n                            dot={{ r: 4, strokeWidth: 2, fill: '#fff' }}\r\n                            activeDot={{ r: 6, strokeWidth: 0 }}\r\n                        />\r\n                        <Line\r\n                            name=\"Security\"\r\n                            type=\"monotone\"\r\n                            dataKey=\"security\"\r\n                            stroke=\"#ef4444\"\r\n                            strokeWidth={3}\r\n                            dot={{ r: 4, strokeWidth: 2, fill: '#fff' }}\r\n                            activeDot={{ r: 6, strokeWidth: 0 }}\r\n                        />\r\n                    </LineChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;AAkBO,SAAS,YAAY,EAAE,IAAI,EAAE,SAAS,EAAoB;IAC7D,IAAI,WAAW;QACX,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;;;;;;;;;;;;IAG3B;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA+D;;;;;;0BAI7E,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,0LAAmB;oBAAC,OAAM;oBAAO,QAAO;8BACrC,cAAA,8OAAC,kKAAS;wBAAC,MAAM;wBAAM,QAAQ;4BAAE,KAAK;4BAAG,OAAO;4BAAI,MAAM;4BAAI,QAAQ;wBAAE;;0CACpE,8OAAC,8KAAa;gCAAC,iBAAgB;gCAAM,UAAU;gCAAO,QAAO;;;;;;0CAC7D,8OAAC,8JAAK;gCACF,SAAQ;gCACR,UAAU;gCACV,UAAU;gCACV,MAAM;oCAAE,MAAM;oCAAW,UAAU;gCAAG;gCACtC,IAAI;;;;;;0CAER,8OAAC,8JAAK;gCACF,QAAQ;oCAAC;oCAAG;iCAAI;gCAChB,UAAU;gCACV,UAAU;gCACV,MAAM;oCAAE,MAAM;oCAAW,UAAU;gCAAG;;;;;;0CAE1C,8OAAC,kKAAO;gCACJ,cAAc;oCACV,iBAAiB;oCACjB,QAAQ;oCACR,cAAc;oCACd,WAAW;gCACf;gCACA,WAAW;oCAAE,UAAU;oCAAQ,YAAY;gCAAO;;;;;;0CAEtD,8OAAC,gKAAM;gCAAC,eAAc;gCAAM,QAAQ;gCAAI,UAAS;;;;;;0CAEjD,8OAAC,4JAAI;gCACD,MAAK;gCACL,MAAK;gCACL,SAAQ;gCACR,QAAO;gCACP,aAAa;gCACb,KAAK;oCAAE,GAAG;oCAAG,aAAa;oCAAG,MAAM;gCAAO;gCAC1C,WAAW;oCAAE,GAAG;oCAAG,aAAa;gCAAE;;;;;;0CAEtC,8OAAC,4JAAI;gCACD,MAAK;gCACL,MAAK;gCACL,SAAQ;gCACR,QAAO;gCACP,aAAa;gCACb,KAAK;oCAAE,GAAG;oCAAG,aAAa;oCAAG,MAAM;gCAAO;gCAC1C,WAAW;oCAAE,GAAG;oCAAG,aAAa;gCAAE;;;;;;0CAEtC,8OAAC,4JAAI;gCACD,MAAK;gCACL,MAAK;gCACL,SAAQ;gCACR,QAAO;gCACP,aAAa;gCACb,KAAK;oCAAE,GAAG;oCAAG,aAAa;oCAAG,MAAM;gCAAO;gCAC1C,WAAW;oCAAE,GAAG;oCAAG,aAAa;gCAAE;;;;;;0CAEtC,8OAAC,4JAAI;gCACD,MAAK;gCACL,MAAK;gCACL,SAAQ;gCACR,QAAO;gCACP,aAAa;gCACb,KAAK;oCAAE,GAAG;oCAAG,aAAa;oCAAG,MAAM;gCAAO;gCAC1C,WAAW;oCAAE,GAAG;oCAAG,aAAa;gCAAE;;;;;;0CAEtC,8OAAC,4JAAI;gCACD,MAAK;gCACL,MAAK;gCACL,SAAQ;gCACR,QAAO;gCACP,aAAa;gCACb,KAAK;oCAAE,GAAG;oCAAG,aAAa;oCAAG,MAAM;gCAAO;gCAC1C,WAAW;oCAAE,GAAG;oCAAG,aAAa;gCAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9D"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hp/.gemini/antigravity/scratch/commcoach-ai/qa-dashboard/src/components/Dashboard/SummaryList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { formatDateTime } from \"@/lib/utils\";\r\n\r\ninterface TestSummary {\r\n    type: string;\r\n    count: number;\r\n    passRate: number;\r\n    lastRun: string;\r\n}\r\n\r\ninterface SummaryListProps {\r\n    summaries: TestSummary[];\r\n    isLoading?: boolean;\r\n}\r\n\r\nexport function SummaryList({ summaries, isLoading }: SummaryListProps) {\r\n    return (\r\n        <div className=\"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm overflow-hidden flex-1\">\r\n            <h2 className=\"text-xl font-bold text-gray-800 mb-6\">Tests Run (24h)</h2>\r\n\r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-left\">\r\n                    <thead>\r\n                        <tr className=\"border-b border-gray-50\">\r\n                            <th className=\"pb-4 font-semibold text-gray-400 text-xs uppercase tracking-wider\">Test Type</th>\r\n                            <th className=\"pb-4 font-semibold text-gray-400 text-xs uppercase tracking-wider text-center\">Count</th>\r\n                            <th className=\"pb-4 font-semibold text-gray-400 text-xs uppercase tracking-wider text-center\">Pass Rate</th>\r\n                            <th className=\"pb-4 font-semibold text-gray-400 text-xs uppercase tracking-wider text-right\">Last Run</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-50\">\r\n                        {isLoading ? (\r\n                            Array.from({ length: 5 }).map((_, i) => (\r\n                                <tr key={i} className=\"animate-pulse\">\r\n                                    <td className=\"py-4\"><div className=\"h-4 w-24 bg-gray-100 rounded\"></div></td>\r\n                                    <td className=\"py-4 text-center\"><div className=\"h-4 w-8 bg-gray-100 rounded mx-auto\"></div></td>\r\n                                    <td className=\"py-4 text-center\"><div className=\"h-4 w-12 bg-gray-100 rounded mx-auto\"></div></td>\r\n                                    <td className=\"py-4 text-right\"><div className=\"h-4 w-32 bg-gray-100 rounded ml-auto\"></div></td>\r\n                                </tr>\r\n                            ))\r\n                        ) : (\r\n                            summaries.map((test) => (\r\n                                <tr key={test.type} className=\"hover:bg-gray-50 transition-colors group\">\r\n                                    <td className=\"py-4 font-bold text-gray-700\">{test.type}</td>\r\n                                    <td className=\"py-4 text-center font-mono text-gray-600\">{test.count}</td>\r\n                                    <td className=\"py-4 text-center\">\r\n                                        <span className={`px-2 py-0.5 rounded-full text-xs font-bold ${test.passRate >= 90 ? \"bg-emerald-50 text-emerald-600\" :\r\n                                                test.passRate >= 80 ? \"bg-amber-50 text-amber-600\" :\r\n                                                    \"bg-rose-50 text-rose-600\"\r\n                                            }`}>\r\n                                            {test.passRate.toFixed(1)}%\r\n                                        </span>\r\n                                    </td>\r\n                                    <td className=\"py-4 text-right text-xs text-gray-400 font-medium\">\r\n                                        {formatDateTime(test.lastRun)}\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAgBO,SAAS,YAAY,EAAE,SAAS,EAAE,SAAS,EAAoB;IAClE,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAAuC;;;;;;0BAErD,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAM,WAAU;;sCACb,8OAAC;sCACG,cAAA,8OAAC;gCAAG,WAAU;;kDACV,8OAAC;wCAAG,WAAU;kDAAoE;;;;;;kDAClF,8OAAC;wCAAG,WAAU;kDAAgF;;;;;;kDAC9F,8OAAC;wCAAG,WAAU;kDAAgF;;;;;;kDAC9F,8OAAC;wCAAG,WAAU;kDAA+E;;;;;;;;;;;;;;;;;sCAGrG,8OAAC;4BAAM,WAAU;sCACZ,YACG,MAAM,IAAI,CAAC;gCAAE,QAAQ;4BAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC9B,8OAAC;oCAAW,WAAU;;sDAClB,8OAAC;4CAAG,WAAU;sDAAO,cAAA,8OAAC;gDAAI,WAAU;;;;;;;;;;;sDACpC,8OAAC;4CAAG,WAAU;sDAAmB,cAAA,8OAAC;gDAAI,WAAU;;;;;;;;;;;sDAChD,8OAAC;4CAAG,WAAU;sDAAmB,cAAA,8OAAC;gDAAI,WAAU;;;;;;;;;;;sDAChD,8OAAC;4CAAG,WAAU;sDAAkB,cAAA,8OAAC;gDAAI,WAAU;;;;;;;;;;;;mCAJ1C;;;;4CAQb,UAAU,GAAG,CAAC,CAAC,qBACX,8OAAC;oCAAmB,WAAU;;sDAC1B,8OAAC;4CAAG,WAAU;sDAAgC,KAAK,IAAI;;;;;;sDACvD,8OAAC;4CAAG,WAAU;sDAA4C,KAAK,KAAK;;;;;;sDACpE,8OAAC;4CAAG,WAAU;sDACV,cAAA,8OAAC;gDAAK,WAAW,CAAC,2CAA2C,EAAE,KAAK,QAAQ,IAAI,KAAK,mCAC7E,KAAK,QAAQ,IAAI,KAAK,+BAClB,4BACN;;oDACD,KAAK,QAAQ,CAAC,OAAO,CAAC;oDAAG;;;;;;;;;;;;sDAGlC,8OAAC;4CAAG,WAAU;sDACT,IAAA,qIAAc,EAAC,KAAK,OAAO;;;;;;;mCAZ3B,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBlD"}},
    {"offset": {"line": 793, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hp/.gemini/antigravity/scratch/commcoach-ai/qa-dashboard/src/components/Dashboard/AIRecommendations.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Bot, Lightbulb, Zap, AlertCircle } from \"lucide-react\";\r\n\r\ninterface Recommendation {\r\n    priority: 'High' | 'Medium' | 'Low';\r\n    action: string;\r\n    rationale: string;\r\n}\r\n\r\ninterface AIRecommendationsProps {\r\n    recommendations: Recommendation[];\r\n    isLoading?: boolean;\r\n}\r\n\r\nexport function AIRecommendations({ recommendations, isLoading }: AIRecommendationsProps) {\r\n    const getPriorityColor = (priority: string) => {\r\n        switch (priority) {\r\n            case 'High': return 'text-rose-600 bg-rose-50 border-rose-100';\r\n            case 'Medium': return 'text-amber-600 bg-amber-50 border-amber-100';\r\n            case 'Low': return 'text-blue-600 bg-blue-50 border-blue-100';\r\n            default: return 'text-gray-600 bg-gray-50 border-gray-100';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-gradient-to-br from-blue-900 to-indigo-950 border border-blue-800 rounded-2xl p-6 shadow-xl flex-1 text-white overflow-hidden relative\">\r\n            <div className=\"flex items-center gap-3 mb-6 relative z-10\">\r\n                <div className=\"p-2 bg-blue-500/20 rounded-lg\">\r\n                    <Bot className=\"w-6 h-6 text-blue-400\" />\r\n                </div>\r\n                <h2 className=\"text-xl font-bold\">ðŸ¤– AI Recommendations</h2>\r\n            </div>\r\n\r\n            <div className=\"space-y-4 relative z-10\">\r\n                {isLoading ? (\r\n                    Array.from({ length: 3 }).map((_, i) => (\r\n                        <div key={i} className=\"animate-pulse flex gap-3\">\r\n                            <div className=\"w-1 h-12 bg-blue-500/20 rounded-full shrink-0\"></div>\r\n                            <div className=\"space-y-2 flex-1\">\r\n                                <div className=\"h-4 w-3/4 bg-blue-500/10 rounded\"></div>\r\n                                <div className=\"h-3 w-full bg-blue-500/5 rounded\"></div>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                ) : (\r\n                    recommendations.map((rec, i) => (\r\n                        <div key={i} className=\"group flex gap-4 transition-all hover:translate-x-1\">\r\n                            <div className=\"flex flex-col items-center\">\r\n                                <div className=\"w-2 h-2 rounded-full bg-blue-400 group-hover:scale-150 transition-transform\"></div>\r\n                                <div className=\"w-[1px] h-full bg-blue-800 my-1\"></div>\r\n                            </div>\r\n                            <div className=\"flex-1 pb-4\">\r\n                                <div className=\"flex items-center gap-2 mb-1\">\r\n                                    <span className={`px-1.5 py-0.5 rounded text-[10px] font-black uppercase border ${getPriorityColor(rec.priority)}`}>\r\n                                        {rec.priority}\r\n                                    </span>\r\n                                    <p className=\"font-bold text-sm text-blue-100\">{rec.action}</p>\r\n                                </div>\r\n                                <p className=\"text-xs text-blue-300 italic pl-1 leading-relaxed\">\r\n                                    Rationale: {rec.rationale}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n\r\n            {/* Futuristic decorative elements */}\r\n            <div className=\"absolute -bottom-10 -right-10 opacity-10\">\r\n                <Zap className=\"w-40 h-40 text-blue-400\" strokeWidth={1} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAFA;;;AAeO,SAAS,kBAAkB,EAAE,eAAe,EAAE,SAAS,EAA0B;IACpF,MAAM,mBAAmB,CAAC;QACtB,OAAQ;YACJ,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAU,OAAO;YACtB,KAAK;gBAAO,OAAO;YACnB;gBAAS,OAAO;QACpB;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC,uMAAG;4BAAC,WAAU;;;;;;;;;;;kCAEnB,8OAAC;wBAAG,WAAU;kCAAoB;;;;;;;;;;;;0BAGtC,8OAAC;gBAAI,WAAU;0BACV,YACG,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBAC9B,8OAAC;wBAAY,WAAU;;0CACnB,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;;;;;;;;;;;;uBAJb;;;;gCASd,gBAAgB,GAAG,CAAC,CAAC,KAAK,kBACtB,8OAAC;wBAAY,WAAU;;0CACnB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;;;;;;;;;;;0CAEnB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAW,CAAC,8DAA8D,EAAE,iBAAiB,IAAI,QAAQ,GAAG;0DAC7G,IAAI,QAAQ;;;;;;0DAEjB,8OAAC;gDAAE,WAAU;0DAAmC,IAAI,MAAM;;;;;;;;;;;;kDAE9D,8OAAC;wCAAE,WAAU;;4CAAoD;4CACjD,IAAI,SAAS;;;;;;;;;;;;;;uBAb3B;;;;;;;;;;0BAsBtB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uMAAG;oBAAC,WAAU;oBAA0B,aAAa;;;;;;;;;;;;;;;;;AAItE"}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hp/.gemini/antigravity/scratch/commcoach-ai/qa-dashboard/src/components/Dashboard/AlertsSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { AlertTriangle, CheckCircle2, Trash2 } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useState, useEffect } from \"react\";\n\ninterface Alert {\n    id: string | number;\n    message: string;\n    type: \"critical\" | \"warning\" | \"success\";\n    timestamp: string;\n}\n\ninterface AlertsSidebarProps {\n    alerts: Alert[];\n}\n\nexport function AlertsSidebar({ alerts }: AlertsSidebarProps) {\n    const [clearedIds, setClearedIds] = useState<Set<string | number>>(new Set());\n    const [readIds, setReadIds] = useState<Set<string | number>>(new Set());\n\n    // Load cleared/read states from localStorage\n    useEffect(() => {\n        const savedCleared = localStorage.getItem(\"cleared_alerts\");\n        const savedRead = localStorage.getItem(\"read_alerts\");\n        if (savedCleared) setClearedIds(new Set(JSON.parse(savedCleared)));\n        if (savedRead) setReadIds(new Set(JSON.parse(savedRead)));\n    }, []);\n\n    const markAsRead = (id: string | number) => {\n        const newRead = new Set(readIds);\n        newRead.add(id);\n        setReadIds(newRead);\n        localStorage.setItem(\"read_alerts\", JSON.stringify(Array.from(newRead)));\n    };\n\n    const clearAlert = (id: string | number) => {\n        const newCleared = new Set(clearedIds);\n        newCleared.add(id);\n        setClearedIds(newCleared);\n        localStorage.setItem(\"cleared_alerts\", JSON.stringify(Array.from(newCleared)));\n    };\n\n    const clearAllRead = () => {\n        const newCleared = new Set(clearedIds);\n        readIds.forEach(id => newCleared.add(id));\n        setClearedIds(newCleared);\n        localStorage.setItem(\"cleared_alerts\", JSON.stringify(Array.from(newCleared)));\n    };\n\n    const visibleAlerts = alerts.filter(a => !clearedIds.has(a.id));\n\n    return (\n        <div className=\"flex flex-col h-full bg-white border-l border-slate-200\">\n            <div className=\"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50\">\n                <div>\n                    <h2 className=\"text-sm font-bold text-slate-900 uppercase tracking-wider\">Log Alerts</h2>\n                    <p className=\"text-[10px] text-slate-500 font-medium\">REAL-TIME MONITORING</p>\n                </div>\n                {readIds.size > 0 && visibleAlerts.some(a => readIds.has(a.id)) && (\n                    <button \n                        onClick={clearAllRead}\n                        className=\"text-[11px] font-bold text-rose-600 hover:text-rose-700 bg-rose-50 px-2 py-1 rounded transition-colors flex items-center gap-1\"\n                    >\n                        <Trash2 className=\"w-3 h-3\" />\n                        CLEAR READ\n                    </button>\n                )}\n            </div>\n\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\n                {visibleAlerts.length === 0 ? (\n                    <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n                        <div className=\"w-12 h-12 bg-emerald-50 rounded-full flex items-center justify-center mb-3\">\n                            <CheckCircle2 className=\"w-6 h-6 text-emerald-500\" />\n                        </div>\n                        <p className=\"text-slate-500 text-sm\">No active alerts</p>\n                    </div>\n                ) : (\n                    visibleAlerts.map((alert) => {\n                        const isRead = readIds.has(alert.id);\n                        return (\n                            <div\n                                key={alert.id}\n                                onClick={() => markAsRead(alert.id)}\n                                className={cn(\n                                    \"p-4 rounded-xl border flex flex-col gap-2 shadow-sm transition-all cursor-pointer group relative overflow-hidden\",\n                                    alert.type === \"critical\" \n                                        ? \"bg-rose-50 border-rose-100 hover:bg-rose-100/50\" \n                                        : \"bg-amber-50 border-amber-100 hover:bg-amber-100/50\",\n                                    isRead && \"opacity-75 grayscale-[0.5]\"\n                                )}\n                            >\n                                {/* Alert Status Indicator */}\n                                {!isRead && (\n                                    <div className=\"absolute top-0 right-0 w-2 h-2 bg-rose-500 rounded-bl-lg animate-pulse\" />\n                                )}\n\n                                <div className=\"flex justify-between items-start\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <AlertTriangle className={cn(\"w-4 h-4\", alert.type === \"critical\" ? \"text-rose-500\" : \"text-amber-500\")} />\n                                        <h3 className={cn(\"text-xs font-black uppercase tracking-tight\", alert.type === \"critical\" ? \"text-rose-900\" : \"text-amber-900\")}>\n                                            {alert.type === \"critical\" ? \"Critical Alert\" : \"Warning\"}\n                                        </h3>\n                                    </div>\n                                    <span className=\"text-[10px] font-mono text-slate-400\">\n                                        {new Date(alert.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', second: '2-digit' })}\n                                    </span>\n                                </div>\n\n                                <p className={cn(\"text-xs font-medium leading-relaxed\", alert.type === \"critical\" ? \"text-rose-800\" : \"text-amber-800\")}>\n                                    {alert.message}\n                                </p>\n\n                                {isRead && (\n                                    <div className=\"mt-1 pt-2 border-t border-rose-200/50 flex justify-end\">\n                                        <button \n                                            onClick={(e) => {\n                                                e.stopPropagation();\n                                                clearAlert(alert.id);\n                                            }}\n                                            className=\"text-[10px] font-bold text-rose-600 hover:bg-white px-2 py-0.5 rounded transition-all flex items-center gap-1\"\n                                        >\n                                            <Trash2 className=\"w-3 h-3\" />\n                                            CLEAR\n                                        </button>\n                                    </div>\n                                )}\n                            </div>\n                        );\n                    })\n                )}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1247, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hp/.gemini/antigravity/scratch/commcoach-ai/qa-dashboard/src/app/saas-admin/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useSaasMetrics } from \"@/hooks/useSaasMetrics\";\nimport { HealthCard } from \"@/components/Dashboard/HealthCard\";\nimport { TrendsChart } from \"@/components/Dashboard/TrendsChart\";\nimport { SummaryList } from \"@/components/Dashboard/SummaryList\";\nimport { AIRecommendations } from \"@/components/Dashboard/AIRecommendations\";\nimport { AlertsSidebar } from \"@/components/Dashboard/AlertsSidebar\";\nimport {\n  DollarSign,\n  Users,\n  Coins,\n  Ticket,\n  TrendingUp,\n  Activity,\n  ArrowUpRight,\n  Loader2,\n  AlertCircle,\n  ArrowLeft\n} from \"lucide-react\";\n\nexport default function SaasAdminDashboard() {\n  const { data, isLoading, isRefreshing, error, lastUpdated } = useSaasMetrics();\n\n  if (isLoading && !data) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center\">\n        <Loader2 className=\"w-12 h-12 text-blue-600 animate-spin mb-4\" />\n        <h2 className=\"text-2xl font-bold text-slate-800\">Loading SaaS Control Plane</h2>\n        <p className=\"text-slate-500 mt-2\">Connecting to Supabase and aggregating metrics...</p>\n      </div>\n    );\n  }\n\n  if (error && !data) {\n    return (\n      <div className=\"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-6 text-center\">\n        <AlertCircle className=\"w-16 h-16 text-rose-500 mb-4\" />\n        <h2 className=\"text-2xl font-bold text-slate-800\">Failed to Load SaaS Metrics</h2>\n        <p className=\"text-slate-500 mt-2 max-w-md\">{error}</p>\n        <button\n          onClick={() => window.location.reload()}\n          className=\"mt-6 px-6 py-2 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200\"\n        >\n          Retry Connection\n        </button>\n      </div>\n    );\n  }\n\n  const saasData = data || {\n    mrr: 0,\n    mrrGrowth: 0,\n    activeUsers: 0,\n    totalUsers: 0,\n    tokenSpend: 0,\n    revenuePerToken: 0,\n    openTickets: 0,\n    bannedUsers: 0,\n    overallHealth: 0,\n    trends: [],\n    alerts: [],\n    summaries: [],\n    recommendations: []\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 flex flex-col\">\n      {/* SaaS Custom Header */}\n      <header className=\"bg-white border-b border-gray-200 px-6 py-6 sticky top-0 z-30 shadow-sm\">\n        <div className=\"max-w-7xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-4\">\n          <div className=\"flex items-center gap-4\">\n            <Link\n              href=\"/\"\n              className=\"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-all group\"\n            >\n              <ArrowLeft className=\"w-4 h-4 group-hover:-translate-x-1 transition-transform\" />\n              <span className=\"text-sm font-medium\">Back to QA Dashboard</span>\n            </Link>\n            <div className=\"h-8 w-px bg-slate-200\" />\n            <div>\n              <h1 className=\"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent\">\n                SaaS Control Plane\n              </h1>\n              <p className=\"text-gray-500 flex items-center gap-2\">\n                Platform Viability & Unit Economics <Activity className=\"w-4 h-4 text-emerald-500 animate-pulse\" />\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-6\">\n            <div className=\"text-right\">\n              <div className=\"text-sm font-medium text-gray-400 uppercase tracking-wider\">Viability Score</div>\n              <div className=\"flex items-baseline gap-2\">\n                <span className=\"text-4xl font-black text-gray-900\">{saasData.overallHealth.toFixed(1)}</span>\n                <span className=\"text-lg font-bold text-emerald-500\">\n                  {saasData.overallHealth >= 80 ? 'Healthy' : saasData.overallHealth >= 60 ? 'Stable' : 'At Risk'}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"flex-1 flex overflow-hidden\">\n        <main className=\"flex-1 overflow-y-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"max-w-[1400px] mx-auto\">\n\n            {/* SaaS Metrics Section */}\n            <div className=\"mb-8\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <div className=\"w-2 h-6 bg-emerald-600 rounded-full\" />\n                <h2 className=\"text-lg font-bold text-slate-800 uppercase tracking-tight\">Financials & Growth</h2>\n              </div>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n                <HealthCard\n                  title=\"Monthly Revenue\"\n                  icon={DollarSign}\n                  score={saasData.mrr / 150} // Normalized for the score indicator\n                  status={`$${saasData.mrr.toLocaleString()}`}\n                  metric={`+${saasData.mrrGrowth}% from last month`}\n                />\n                <HealthCard\n                  title=\"User Base\"\n                  icon={Users}\n                  score={(saasData.activeUsers / saasData.totalUsers) * 100}\n                  status={`${saasData.activeUsers} Active`}\n                  metric={`${saasData.totalUsers} total registered`}\n                />\n                <HealthCard\n                  title=\"AI Token Cost\"\n                  icon={Coins}\n                  score={90}\n                  status={`$${saasData.tokenSpend}`}\n                  metric={`Margin: ${saasData.revenuePerToken}x per $ spend`}\n                />\n                <HealthCard\n                  title=\"Support Load\"\n                  icon={Ticket}\n                  score={85}\n                  status={`${saasData.openTickets} Open`}\n                  metric=\"Avg response time: 2.4h\"\n                />\n              </div>\n            </div>\n\n            {/* Growth Chart */}\n            <div className=\"bg-white border border-gray-100 rounded-3xl p-8 shadow-sm mb-8\">\n              <div className=\"flex items-center justify-between mb-8\">\n                <div>\n                  <h3 className=\"text-xl font-bold text-gray-900\">Revenue & Usage Velocity</h3>\n                  <p className=\"text-gray-500 text-sm\">MRR (Lines) vs AI Consumption (Points)</p>\n                </div>\n                <div className=\"flex gap-4\">\n                  <div className=\"flex items-center gap-2 px-3 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-bold\">\n                    <TrendingUp className=\"w-3 h-3\" /> Revenue\n                  </div>\n                  <div className=\"flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-bold\">\n                    <Activity className=\"w-3 h-3\" /> Usage\n                  </div>\n                </div>\n              </div>\n              <div className=\"h-[350px]\">\n                <TrendsChart data={saasData.trends} />\n              </div>\n            </div>\n\n            {/* Intelligence Section */}\n            <div className=\"flex flex-col lg:flex-row gap-8 items-stretch mt-8\">\n              <div className=\"flex-1 bg-white border border-gray-100 rounded-3xl p-6 shadow-sm\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                  <ArrowUpRight className=\"w-5 h-5 text-emerald-500\" /> Subscription Breakdown\n                </h3>\n                <SummaryList summaries={saasData.summaries} />\n              </div>\n              <div className=\"flex-1\">\n                <AIRecommendations recommendations={saasData.recommendations} />\n              </div>\n            </div>\n\n            <footer className=\"py-12 text-center text-slate-400 text-sm\">\n              &copy; 2026 CommCoach AI SaaS Admin Panel. Proprietary & Confidential.\n            </footer>\n          </div>\n        </main>\n\n        <aside className=\"w-80 shrink-0 hidden xl:block shadow-2xl z-10 border-l border-slate-200\">\n          <AlertsSidebar alerts={saasData.alerts} />\n        </aside>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}